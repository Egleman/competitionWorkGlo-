(()=>{"use strict";(()=>{const e=document.querySelector(".table"),t=document.querySelector(".filter");let n={};class a{constructor(e){this.name=e.name,this.realName=e.realName,this.species=e.species,this.citizenship=e.citizenship,this.genger=e.genger,this.birthDay=e.birthDay,this.deathDay=e.deathDay,this.status=e.status,this.actors=e.actors,this.photo=e.photo,this.movies=e.movies?e.movies.map((e=>e.trim())):[]}newCard(){const e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),a=document.createElement("p"),i=document.createElement("p"),s=document.createElement("p"),c=document.createElement("p"),r=document.createElement("p"),o=document.createElement("p"),h=document.createElement("p"),p=document.createElement("p"),m=document.createElement("p"),d=document.createElement("img"),l=document.createElement("p"),u=document.createElement("ul");return e.className="card",t.className="image",n.className="info",a.innerHTML=`<b>Name: </b>${this.name}`,i.innerHTML=this.realName?"<b>Real name: </b>"+this.realName:"",s.innerHTML=`<b>Species: </b> ${this.species}`,c.innerHTML=this.citizenship?"<b>Citizenship: </b>"+this.citizenship:"",r.innerHTML=`<b>Gender: </b>${this.genger}`,o.innerHTML=this.birthDay?"<b>Birth day: </b>"+this.birthDay:"",h.innerHTML=this.deathDay?"<b>Death day: </b>"+this.deathDay:"",p.innerHTML=`<b>Status: </b> ${this.status}`,m.innerHTML=`<b>Actors: </b> ${this.actors}`,d.src=`./db/${this.photo?this.photo:""}`,t.append(d),n.append(a),n.append(i),n.append(s),n.append(c),n.append(r),n.append(o),n.append(h),n.append(p),n.append(m),e.append(t),e.append(n),this.movies.length>0&&(l.innerHTML="<b>Movies:</b> ",this.movies.forEach((e=>{const t=document.createElement("li");t.textContent=e,u.append(t)})),n.appendChild(l),n.appendChild(u)),e}checkMovie(e=""){return""===e||this.movies.filter((t=>t===e)).length>0}}const i=(t="")=>{n.filter((e=>e.checkMovie(t))).forEach((t=>e.append(t.newCard())))};var s;s=e=>{n=e.map((e=>new a(e))),i(),(()=>{const e=[];n.forEach((t=>{t.movies.forEach((t=>{e.indexOf(t)<0&&e.push(t)}))})),e.sort().forEach((e=>{const n=document.createElement("option");n.value=e,n.textContent=e,t.append(n)}))})()},fetch("./db/dbHeroes.json").then((e=>e.json())).then(s).catch((e=>{console.log(e,"ошибка, файл не найден")})),t.addEventListener("change",(t=>{e.textContent="",i(t.target.value)}))})()})();